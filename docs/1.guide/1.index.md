# Getting Started

> Learn how to install and set up the Claude Code Validator framework in your project.

## Installation

The framework is designed to be used within a Claude Code project. It's already included in `.claude/claude-code-validator/`.

Install dependencies:

```bash
cd .claude/claude-code-validator
bun install
```

## Project Structure

The framework follows this structure:

```
.claude/
‚îú‚îÄ‚îÄ claude-code-validator/    # Framework (not in end user projects)
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/             # Core validation engine
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/            # TypeScript definitions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/            # Auto-discovery utilities
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ cli.ts            # CLI interface
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts          # Main exports
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îÇ
‚îî‚îÄ‚îÄ rules/                    # Your validation rules (auto-discovered)
    ‚îú‚îÄ‚îÄ nuxt-ui.ts
    ‚îú‚îÄ‚îÄ define-model.ts
    ‚îî‚îÄ‚îÄ my-custom-rule.ts
```

## Create Your First Rule

Create a new file `.claude/rules/my-rule.ts`:

```typescript
import { defineCodeRule } from '../claude-code-validator';

export const myRule = defineCodeRule({
  name: 'my-rule',
  description: 'Prevents usage of console.log',

  shouldRun: (context) => {
    // Only run on TypeScript and JavaScript files
    return /\.(ts|js)x?$/.test(context.filePath);
  },

  validate(context) {
    const errors: string[] = [];

    if (/console\.log/.test(context.content)) {
      errors.push(
        `‚ùå console.log detected\n` +
        `   ‚Üí Use a proper logging library instead\n` +
        `   üìÑ File: ${context.filePath}`
      );
    }

    return errors;
  }
});
```

## Test Auto-Discovery

Verify your rule is discovered:

```bash
bun .claude/claude-code-validator/src/cli.ts list-rules
```

You should see output like:

```
üìã Discovered 3 Validation Rules from .claude/rules:

  ‚Ä¢ my-rule
    Prevents usage of console.log

  ‚Ä¢ nuxt-ui
    Validate Nuxt UI component usage and patterns

  ‚Ä¢ define-model
    Enforce use of defineModel() macro instead of modelValue prop + emit pattern
```

## Set Up Automatic Initialization (Optional)

The framework includes a SessionStart hook that automatically sets up the environment:

```bash
# Copy the example settings to enable SessionStart hook
cp .claude/claude-code-validator/.claude/settings.example.json .claude/settings.local.json
```

The SessionStart hook automatically:
- Installs dependencies if missing
- Runs type checking to verify code quality
- Lists discovered validation rules
- Provides setup status feedback

## Integrate with Claude Code Hooks

Configure hooks in `.claude/settings.local.json`:

```json
{
  "hooks": {
    "SessionStart": [
      {
        "type": "command",
        "command": "bash ${CLAUDE_PROJECT_DIR}/.claude/claude-code-validator/.claude/SessionStart",
        "timeout": 30
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit",
        "hooks": [{
          "type": "command",
          "command": "bash ${CLAUDE_PROJECT_DIR}/.claude/claude-code-validator/validate validate --stdin",
          "timeout": 10
        }]
      },
      {
        "matcher": "Write",
        "hooks": [{
          "type": "command",
          "command": "bash ${CLAUDE_PROJECT_DIR}/.claude/claude-code-validator/validate validate --stdin",
          "timeout": 10
        }]
      }
    ]
  }
}
```

## Test the Integration

Try creating a file with `console.log`:

```bash
echo '{"tool_name":"Write","tool_input":{"file_path":"test.ts","content":"console.log(\"test\")"}}' | \
  bash .claude/claude-code-validator/validate validate --stdin
```

You should see a validation error blocking the operation!

## Next Steps

- Learn about [core concepts](/concepts) to understand how validation works
- Explore [creating rules](/concepts/creating-rules) for advanced patterns
- Check the [API reference](/api) for all available functions
- See [examples](/examples) for real-world validation rules
